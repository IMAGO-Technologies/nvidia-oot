// SPDX-License-Identifier: GPL-2.0
// Copyright (c) 2022, NVIDIA CORPORATION & AFFILIATES.  All rights reserved.


#include <dt-bindings/clock/tegra234-clock.h>
#include <dt-bindings/clock/tegra234-clock-oot.h>
#include <dt-bindings/reset/tegra234-reset.h>
#include <dt-bindings/reset/tegra234-reset-oot.h>
#include <dt-bindings/memory/tegra234-mc.h>
#include <dt-bindings/memory/tegra234-mc-oot.h>
#include <dt-bindings/memory/tegra234-smmu-streamid.h>

/ {
	overlay-name = "Add nvidia,p3737-0000+p3701-0000 Overlay Support";
	compatible = "nvidia,tegra234";

	fragment-t234@0 {
		target-path = "/bus@0";
		__overlay__ {
			gpcdma: gpcdma@2600000 {
				compatible = "nvidia,tegra234-gpcdma";
				reg = <0x2600000 0x210000>;
				resets = <&bpmp TEGRA234_RESET_GPCDMA>;
				reset-names = "gpcdma";
				interrupts = <0 75 0x04
					0 76 0x04
					0 77 0x04
					0 78 0x04
					0 79 0x04
					0 80 0x04
					0 81 0x04
					0 82 0x04
					0 83 0x04
					0 84 0x04
					0 85 0x04
					0 86 0x04
					0 87 0x04
					0 88 0x04
					0 89 0x04
					0 90 0x04
					0 91 0x04
					0 92 0x04
					0 93 0x04
					0 94 0x04
					0 95 0x04
					0 96 0x04
					0 97 0x04
					0 98 0x04
					0 99 0x04
					0 100 0x04
					0 101 0x04
					0 102 0x04
					0 103 0x04
					0 104 0x04
					0 105 0x04
					0 106 0x04
					0 107 0x04>;
				#dma-cells = <1>;
				iommus = <&smmu_niso0 TEGRA234_SID_GPCDMA>;
				dma-coherent;
				nvidia,start-dma-channel-index = <1>;
				dma-channels = <31>;

				status = "okay";
			};
		};
	};
};
